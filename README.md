# read-randr-json
Read-only version of XCB/randr aka "xrandr" that returns content in JSON.

Building, install packages `libxcb1-dev libxcb-render0-dev` for Ubuntu.
```
$ make
```
Running, hardcoded to `DISPLAY=:0`,
```
$ ./read-randr-json
{"screen":0,"name":"Virtual-1","x":0,"y":0,"width":1024,"height":960}
{"output":1,"name":"Virtual-2","is_connected":false}
{"output":2,"name":"Virtual-3","is_connected":false}
{"output":3,"name":"Virtual-4","is_connected":false}
{"output":4,"name":"Virtual-5","is_connected":false}
{"output":5,"name":"Virtual-6","is_connected":false}
{"output":6,"name":"Virtual-7","is_connected":false}
{"output":7,"name":"Virtual-8","is_connected":false}
{"output":8,"name":"Virtual-9","is_connected":false}
{"output":9,"name":"Virtual-10","is_connected":false}
{"output":10,"name":"Virtual-11","is_connected":false}
{"output":11,"name":"Virtual-12","is_connected":false}
{"output":12,"name":"Virtual-13","is_connected":false}
{"output":13,"name":"Virtual-14","is_connected":false}
{"output":14,"name":"Virtual-15","is_connected":false}
{"output":15,"name":"Virtual-16","is_connected":false}
```
Example with multiple connected displays,
```
{"screen":0,"name":"DP-2","x":1920,"y":0,"width":1920,"height":1080}
{"screen":1,"name":"DP-4","x":0,"y":0,"width":1920,"height":1080}
{"screen":2,"name":"DP-6","x":3840,"y":0,"width":1920,"height":1080}
{"output":0,"name":"DP-0","is_connected":false}
{"output":1,"name":"DP-1","is_connected":false}
{"output":2,"name":"DP-2","is_connected":true,"x":1920,"y":0,"width":1920,"height":1080,"edid":"00ffffffffffff000ca9d50700000000041b010380502d800eee91a3544c99260f5054200000a9c00101010101010101010101010101023a801871382d40582c450020c23100001e662156aa51001e30468f330020c23100001e000000fc004372657374726f6e0a20202020000000fd0039491e4b10000a202020202020012002031f70441005040223090707830100006a030c0010000021000000e2004f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000074"}
{"output":3,"name":"DP-3","is_connected":false}
{"output":4,"name":"DP-4","is_connected":true,"x":0,"y":0,"width":1920,"height":1080,"edid":"00ffffffffffff000ca9d50700000000041b010380502d800eee91a3544c99260f5054200000a9c00101010101010101010101010101023a801871382d40582c450020c23100001e662156aa51001e30468f330020c23100001e000000fc004372657374726f6e0a20202020000000fd0039491e4b10000a202020202020012002031f70441005040223090707830100006a030c0010000021000000e2004f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000074"}
{"output":5,"name":"DP-5","is_connected":false}
{"output":6,"name":"DP-6","is_connected":true,"x":3840,"y":0,"width":1920,"height":1080,"edid":"00ffffffffffff000ca9d50700000000041b010380502d800eee91a3544c99260f5054200000a9c00101010101010101010101010101023a801871382d40582c450020c23100001e662156aa51001e30468f330020c23100001e000000fc004372657374726f6e0a20202020000000fd0039491e4b10000a202020202020012002031f70441005040223090707830100006a030c0010000021000000e2004f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000074"}
{"output":7,"name":"DP-7","is_connected":false}
{"output":8,"name":"USB-C-0","is_connected":false}
```
Example with virtual monitor,
```
{"screen":0,"name":"Full","x":0,"y":0,"width":3840,"height":3240}
{"output":0,"name":"DisplayPort-0","is_connected":false}
{"output":1,"name":"DisplayPort-1","is_connected":true,"x":0,"y":0,"width":3840,"height":2160,"edid":"00ffffffffffff0034a9f8a000100000001c010380a55d780a026ba6554f9a270d474a2108003140454061408180010101010101010108e80030f2705a80b0588a0072a06300001e04740030f2705a80b0588a0072a06300001e000000fd00173d0f883c000a202020202020000000fc0054482d37354551310a202020200183020342f15861605f5e5d6665646362101f05142221200413021106150123090707e305ff816e030c001000383c2008800102030467d85dc401788003e20f63e200eb023a801871382d40582c450072a06300001e023a80d072382d40102c458072a06300001e283c80a070b023403020360072a06300001a0000000000000045"}
{"output":2,"name":"DisplayPort-2","is_connected":true,"x":0,"y":0,"width":1920,"height":1080,"edid":"00ffffffffffff0034a9f8a000100000001c010380a55d780a026ba6554f9a270d474a2108003140454061408180010101010101010108e80030f2705a80b0588a0072a06300001e04740030f2705a80b0588a0072a06300001e000000fd00173d0f883c000a202020202020000000fc0054482d37354551310a202020200183020342f15861605f5e5d6665646362101f05142221200413021106150123090707e305ff816e030c001000383c2008800102030467d85dc401788003e20f63e200eb023a801871382d40582c450072a06300001e023a80d072382d40102c458072a06300001e283c80a070b023403020360072a06300001a0000000000000045"}
{"output":3,"name":"DisplayPort-3","is_connected":true,"x":0,"y":2160,"width":1920,"height":1080,"edid":"00ffffffffffff0034a9f8a000100000001c010380a55d780a026ba6554f9a270d474a2108003140454061408180010101010101010108e80030f2705a80b0588a0072a06300001e04740030f2705a80b0588a0072a06300001e000000fd00173d0f883c000a202020202020000000fc0054482d37354551310a202020200183020342f15861605f5e5d6665646362101f05142221200413021106150123090707e305ff816e030c001000383c2008800102030467d85dc401788003e20f63e200eb023a801871382d40582c450072a06300001e023a80d072382d40102c458072a06300001e283c80a070b023403020360072a06300001a0000000000000045"}
```
